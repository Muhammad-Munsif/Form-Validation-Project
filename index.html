<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Custom styles to complement Tailwind */
        .invalid {
            color: #6b7280;
            /* gray-500 */
            list-style-type: none;
        }

        .invalid::before {
            content: "✗ ";
            color: #ef4444;
            /* red-500 */
        }

        .valid {
            color: #6b7280;
            /* gray-500 */
            list-style-type: none;
        }

        .valid::before {
            content: "✓ ";
            color: #10b981;
            /* green-500 */
        }

        /* Animation for error messages */
        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            20%,
            60% {
                transform: translateX(-5px);
            }

            40%,
            80% {
                transform: translateX(5px);
            }
        }

        .shake {
            animation: shake 0.4s ease-in-out;
        }

        /* Focus styles for better accessibility */
        input:focus,
        button:focus {
            outline: 2px solid transparent;
            outline-offset: 2px;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5);
            /* indigo-500 with opacity */
        }

        /* Transition for input borders */
        input {
            transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen flex items-center">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl">
            <div class="md:flex">
                <div class="md:flex-shrink-0 bg-indigo-500 md:w-1/3 flex items-center justify-center p-8">
                    <div class="text-center text-white">
                        <i class="fas fa-user-shield text-5xl mb-4"></i>
                        <h2 class="text-2xl font-bold">Join Us</h2>
                        <p class="mt-2">Create your account in minutes</p>
                    </div>
                </div>
                <div class="p-8 md:w-2/3">
                    <h1 class="text-2xl font-bold text-gray-800 mb-6">Sign Up</h1>

                    <form id="signup-form" class="space-y-4" novalidate>
                        <!-- Full Name -->
                        <div>
                            <label for="fullname" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <div class="relative">
                                <input type="text" id="fullname" name="fullname"
                                    class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                                    placeholder="John Doe" required minlength="3">
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none hidden"
                                    id="name-valid">
                                    <i class="fas fa-check text-green-500"></i>
                                </div>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none hidden"
                                    id="name-invalid">
                                    <i class="fas fa-times text-red-500"></i>
                                </div>
                            </div>
                            <p class="mt-1 text-xs text-red-600 hidden" id="name-error">Please enter a valid name (at
                                least 3 characters)</p>
                        </div>

                        <!-- Email -->
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email
                                Address</label>
                            <div class="relative">
                                <input type="email" id="email" name="email"
                                    class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                                    placeholder="john@example.com" required>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none hidden"
                                    id="email-valid">
                                    <i class="fas fa-check text-green-500"></i>
                                </div>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none hidden"
                                    id="email-invalid">
                                    <i class="fas fa-times text-red-500"></i>
                                </div>
                            </div>
                            <p class="mt-1 text-xs text-red-600 hidden" id="email-error">Please enter a valid email
                                address</p>
                        </div>

                        <!-- Password -->
                        <div>
                            <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <div class="relative">
                                <input type="password" id="password" name="password"
                                    class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                                    placeholder="••••••••" required minlength="8"
                                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">
                                <button type="button"
                                    class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700"
                                    id="toggle-password">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="mt-2">
                                <p class="text-xs text-gray-600">Password must contain:</p>
                                <ul class="text-xs text-gray-600 ml-4 list-disc">
                                    <li id="length" class="invalid">At least 8 characters</li>
                                    <li id="uppercase" class="invalid">At least one uppercase letter</li>
                                    <li id="lowercase" class="invalid">At least one lowercase letter</li>
                                    <li id="number" class="invalid">At least one number</li>
                                    <li id="special" class="invalid">At least one special character</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Confirm Password -->
                        <div>
                            <label for="confirm-password" class="block text-sm font-medium text-gray-700 mb-1">Confirm
                                Password</label>
                            <div class="relative">
                                <input type="password" id="confirm-password" name="confirm-password"
                                    class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                                    placeholder="••••••••" required>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none hidden"
                                    id="confirm-valid">
                                    <i class="fas fa-check text-green-500"></i>
                                </div>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none hidden"
                                    id="confirm-invalid">
                                    <i class="fas fa-times text-red-500"></i>
                                </div>
                            </div>
                            <p class="mt-1 text-xs text-red-600 hidden" id="confirm-error">Passwords do not match</p>
                        </div>

                        <!-- Terms Checkbox -->
                        <div class="flex items-start">
                            <div class="flex items-center h-5">
                                <input id="terms" name="terms" type="checkbox"
                                    class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"
                                    required>
                            </div>
                            <div class="ml-3">
                                <label for="terms" class="text-sm text-gray-700">
                                    I agree to the <a href="#" class="text-indigo-600 hover:text-indigo-500">Terms of
                                        Service</a> and <a href="#"
                                        class="text-indigo-600 hover:text-indigo-500">Privacy Policy</a>
                                </label>
                                <p class="mt-1 text-xs text-red-600 hidden" id="terms-error">You must agree to the terms
                                </p>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div>
                            <button type="submit" id="submit-btn"
                                class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                                disabled>
                                Create Account
                            </button>
                        </div>
                    </form>

                    <div class="mt-6 text-center">
                        <p class="text-sm text-gray-600">
                            Already have an account?
                            <a href="#" class="text-indigo-600 hover:text-indigo-500">Sign in</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 max-w-sm mx-4">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100">
                    <i class="fas fa-check text-green-600"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mt-3">Success!</h3>
                <div class="mt-2">
                    <p class="text-sm text-gray-500">Your account has been created successfully.</p>
                </div>
                <div class="mt-4">
                    <button type="button" id="modal-close-btn"
                        class="inline-flex justify-center px-4 py-2 text-sm font-medium text-indigo-900 bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500">
                        Continue
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js">
        document.addEventListener('DOMContentLoaded', function () {
            // DOM elements
            const form = document.getElementById('signup-form');
            const fullnameInput = document.getElementById('fullname');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const confirmPasswordInput = document.getElementById('confirm-password');
            const termsCheckbox = document.getElementById('terms');
            const submitBtn = document.getElementById('submit-btn');
            const togglePasswordBtn = document.getElementById('toggle-password');
            const successModal = document.getElementById('success-modal');
            const modalCloseBtn = document.getElementById('modal-close-btn');

            // Password requirements elements
            const lengthRequirement = document.getElementById('length');
            const uppercaseRequirement = document.getElementById('uppercase');
            const lowercaseRequirement = document.getElementById('lowercase');
            const numberRequirement = document.getElementById('number');
            const specialRequirement = document.getElementById('special');

            // Validation flags
            let isNameValid = false;
            let isEmailValid = false;
            let isPasswordValid = false;
            let isConfirmValid = false;
            let isTermsChecked = false;

            // Event listeners for real-time validation
            fullnameInput.addEventListener('input', validateName);
            emailInput.addEventListener('input', validateEmail);
            passwordInput.addEventListener('input', validatePassword);
            confirmPasswordInput.addEventListener('input', validateConfirmPassword);
            termsCheckbox.addEventListener('change', validateTerms);
            togglePasswordBtn.addEventListener('click', togglePasswordVisibility);
            form.addEventListener('submit', handleFormSubmission);
            modalCloseBtn.addEventListener('click', closeSuccessModal);

            // Validate name field
            function validateName() {
                const nameError = document.getElementById('name-error');
                const nameValidIcon = document.getElementById('name-valid');
                const nameInvalidIcon = document.getElementById('name-invalid');

                if (fullnameInput.validity.valid) {
                    isNameValid = true;
                    fullnameInput.classList.remove('border-red-500');
                    fullnameInput.classList.add('border-green-500');
                    nameError.classList.add('hidden');
                    nameValidIcon.classList.remove('hidden');
                    nameInvalidIcon.classList.add('hidden');
                } else {
                    isNameValid = false;
                    fullnameInput.classList.remove('border-green-500');
                    fullnameInput.classList.add('border-red-500');
                    nameError.classList.remove('hidden');
                    nameValidIcon.classList.add('hidden');
                    nameInvalidIcon.classList.remove('hidden');

                    if (fullnameInput.validity.valueMissing) {
                        nameError.textContent = 'Name is required';
                    } else if (fullnameInput.validity.tooShort) {
                        nameError.textContent = `Name should be at least ${fullnameInput.minLength} characters`;
                    }
                }

                updateSubmitButton();
            }

            // Validate email field
            function validateEmail() {
                const emailError = document.getElementById('email-error');
                const emailValidIcon = document.getElementById('email-valid');
                const emailInvalidIcon = document.getElementById('email-invalid');

                if (emailInput.validity.valid) {
                    isEmailValid = true;
                    emailInput.classList.remove('border-red-500');
                    emailInput.classList.add('border-green-500');
                    emailError.classList.add('hidden');
                    emailValidIcon.classList.remove('hidden');
                    emailInvalidIcon.classList.add('hidden');
                } else {
                    isEmailValid = false;
                    emailInput.classList.remove('border-green-500');
                    emailInput.classList.add('border-red-500');
                    emailError.classList.remove('hidden');
                    emailValidIcon.classList.add('hidden');
                    emailInvalidIcon.classList.remove('hidden');

                    if (emailInput.validity.valueMissing) {
                        emailError.textContent = 'Email is required';
                    } else if (emailInput.validity.typeMismatch) {
                        emailError.textContent = 'Please enter a valid email address';
                    }
                }

                updateSubmitButton();
            }

            // Validate password field
            function validatePassword() {
                const password = passwordInput.value;

                // Check length
                if (password.length >= 8) {
                    lengthRequirement.classList.remove('invalid');
                    lengthRequirement.classList.add('valid');
                } else {
                    lengthRequirement.classList.remove('valid');
                    lengthRequirement.classList.add('invalid');
                }

                // Check uppercase
                if (/[A-Z]/.test(password)) {
                    uppercaseRequirement.classList.remove('invalid');
                    uppercaseRequirement.classList.add('valid');
                } else {
                    uppercaseRequirement.classList.remove('valid');
                    uppercaseRequirement.classList.add('invalid');
                }

                // Check lowercase
                if (/[a-z]/.test(password)) {
                    lowercaseRequirement.classList.remove('invalid');
                    lowercaseRequirement.classList.add('valid');
                } else {
                    lowercaseRequirement.classList.remove('valid');
                    lowercaseRequirement.classList.add('invalid');
                }

                // Check number
                if (/\d/.test(password)) {
                    numberRequirement.classList.remove('invalid');
                    numberRequirement.classList.add('valid');
                } else {
                    numberRequirement.classList.remove('valid');
                    numberRequirement.classList.add('invalid');
                }

                // Check special character
                if (/[@$!%*?&]/.test(password)) {
                    specialRequirement.classList.remove('invalid');
                    specialRequirement.classList.add('valid');
                } else {
                    specialRequirement.classList.remove('valid');
                    specialRequirement.classList.add('invalid');
                }

                // Validate against pattern
                if (passwordInput.validity.valid) {
                    isPasswordValid = true;
                    passwordInput.classList.remove('border-red-500');
                    passwordInput.classList.add('border-green-500');
                } else {
                    isPasswordValid = false;
                    passwordInput.classList.remove('border-green-500');
                    passwordInput.classList.add('border-red-500');
                }

                // Re-validate confirm password if it has value
                if (confirmPasswordInput.value) {
                    validateConfirmPassword();
                }

                updateSubmitButton();
            }

            // Validate confirm password field
            function validateConfirmPassword() {
                const confirmError = document.getElementById('confirm-error');
                const confirmValidIcon = document.getElementById('confirm-valid');
                const confirmInvalidIcon = document.getElementById('confirm-invalid');

                if (confirmPasswordInput.value === passwordInput.value && passwordInput.value) {
                    isConfirmValid = true;
                    confirmPasswordInput.classList.remove('border-red-500');
                    confirmPasswordInput.classList.add('border-green-500');
                    confirmError.classList.add('hidden');
                    confirmValidIcon.classList.remove('hidden');
                    confirmInvalidIcon.classList.add('hidden');
                } else {
                    isConfirmValid = false;
                    confirmPasswordInput.classList.remove('border-green-500');
                    confirmPasswordInput.classList.add('border-red-500');
                    confirmValidIcon.classList.add('hidden');
                    confirmInvalidIcon.classList.remove('hidden');

                    if (!passwordInput.value) {
                        confirmError.textContent = 'Please enter a password first';
                    } else {
                        confirmError.textContent = 'Passwords do not match';
                    }

                    if (confirmPasswordInput.value) {
                        confirmError.classList.remove('hidden');
                    } else {
                        confirmError.classList.add('hidden');
                    }
                }

                updateSubmitButton();
            }

            // Validate terms checkbox
            function validateTerms() {
                const termsError = document.getElementById('terms-error');

                if (termsCheckbox.checked) {
                    isTermsChecked = true;
                    termsError.classList.add('hidden');
                } else {
                    isTermsChecked = false;
                    termsError.classList.remove('hidden');
                }

                updateSubmitButton();
            }

            // Toggle password visibility
            function togglePasswordVisibility() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);

                // Toggle eye icon
                const icon = togglePasswordBtn.querySelector('i');
                icon.classList.toggle('fa-eye');
                icon.classList.toggle('fa-eye-slash');
            }

            // Update submit button state
            function updateSubmitButton() {
                if (isNameValid && isEmailValid && isPasswordValid && isConfirmValid && isTermsChecked) {
                    submitBtn.disabled = false;
                } else {
                    submitBtn.disabled = true;
                }
            }

            // Handle form submission
            function handleFormSubmission(e) {
                e.preventDefault();

                // Validate all fields one more time
                validateName();
                validateEmail();
                validatePassword();
                validateConfirmPassword();
                validateTerms();

                // Check if form is valid
                if (isNameValid && isEmailValid && isPasswordValid && isConfirmValid && isTermsChecked) {
                    // In a real app, you would send the data to a server here
                    console.log('Form submitted successfully!');
                    console.log({
                        name: fullnameInput.value,
                        email: emailInput.value,
                        password: passwordInput.value
                    });

                    // Show success modal
                    successModal.classList.remove('hidden');
                    document.body.classList.add('overflow-hidden');

                    // Reset form (optional)
                    // form.reset();
                    // Reset validation states
                    // isNameValid = isEmailValid = isPasswordValid = isConfirmValid = isTermsChecked = false;
                    // updateSubmitButton();
                } else {
                    // Highlight invalid fields
                    if (!isNameValid) {
                        fullnameInput.classList.add('shake');
                        setTimeout(() => fullnameInput.classList.remove('shake'), 400);
                    }
                    if (!isEmailValid) {
                        emailInput.classList.add('shake');
                        setTimeout(() => emailInput.classList.remove('shake'), 400);
                    }
                    if (!isPasswordValid) {
                        passwordInput.classList.add('shake');
                        setTimeout(() => passwordInput.classList.remove('shake'), 400);
                    }
                    if (!isConfirmValid) {
                        confirmPasswordInput.classList.add('shake');
                        setTimeout(() => confirmPasswordInput.classList.remove('shake'), 400);
                    }
                    if (!isTermsChecked) {
                        termsCheckbox.classList.add('shake');
                        setTimeout(() => termsCheckbox.classList.remove('shake'), 400);
                    }
                }
            }

            // Close success modal
            function closeSuccessModal() {
                successModal.classList.add('hidden');
                document.body.classList.remove('overflow-hidden');
            }

            // Initial validation check
            updateSubmitButton();
        });
    </script>
</body>

</html>